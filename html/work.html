<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Multiple Images Follow Mouse with Fade</title>
    <style>
        body {
            height: 100vh;
            margin: 0;
            cursor: pointer;
            background: #f0f0f0;
            overflow: hidden;
            position: relative;
        }

        .trail-image {
            position: absolute;
            width: 100px;
            height: 100px;
            pointer-events: none;
            transition: transform 0.1s ease-out, opacity 0.5s ease;
            will-change: transform, opacity;
            opacity: 0;
            /* Start hidden */
        }
    </style>
</head>

<body>

    <img src="../Resources/Works/img10.jpg" class="trail-image" />
    <img src="../Resources/Works/img9.jpg" class="trail-image" />
    <img src="../Resources/Works/img18.jpg" class="trail-image" />
    <img src="../Resources/Works/img11.jpg" class="trail-image" />
    <img src="../Resources/Works/img12.jpg" class="trail-image" />

    <script>
        const images = document.querySelectorAll('.trail-image');
        const positions = [];

        // Initialize positions to {x:0, y:0}
        images.forEach(() => positions.push({ x: 0, y: 0 }));

        let fadeTimeout;

        window.addEventListener('mousemove', e => {
            // Clear any existing fade timeout to keep images visible
            clearTimeout(fadeTimeout);

            // Set opacity to 1 to show images
            images.forEach(img => img.style.opacity = '1');

            // Update the leading position to cursor
            positions[0].x = e.clientX;
            positions[0].y = e.clientY;

            // Update trailing imagesâ€™ positions with easing
            const easing = 0.15; // smaller easing for more distance
            for (let i = 1; i < positions.length; i++) {
                positions[i].x += (positions[i - 1].x - positions[i].x) * easing;
                positions[i].y += (positions[i - 1].y - positions[i].y) * easing;
            }


            // Apply transform with centering offset
            images.forEach((img, index) => {
                const offsetX = img.width / 2;
                const offsetY = img.height / 2;
                img.style.transform = `translate3d(${positions[index].x - offsetX}px, ${positions[index].y - offsetY}px, 0)`;
            });

            // After 300ms of no mousemove, fade images out
            fadeTimeout = setTimeout(() => {
                images.forEach(img => img.style.opacity = '0');
            }, 300);
        });
    </script>

</body>

</html>